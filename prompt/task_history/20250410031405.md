# 事前読み込み

- prompt/index.md
- prompt/rule.md
- prompt/dir.md
- prompt/reflection.md

# タスク

## テスト生成の効率化と品質向上のためのTODOリスト

### 1. テストヘルパーの改善

- [ ] モックリポジトリがリポジトリインターフェースと完全に一致するよう修正する

  - [ ] `MockTournamentRepository`の残りのメソッドもインターフェースと一致するよう修正
  - [ ] `MockParticipantRepository`の`findById`メソッドを`ParticipantId`を受け取るように修正
  - [ ] `MockTeamRepository`の`findById`メソッドを`TeamId`を受け取るように修正
  - [ ] `MockDraftRepository`の`findById`メソッドを`DraftId`を受け取るように修正

- [ ] ファクトリ関数がエンティティコンストラクタと一致するよう修正する
  - [ ] `createTestTeam`がすでに修正されたことを確認し、他のファクトリ関数も確認する
  - [ ] `createTestDraftStatus`が適切なプロパティを持っているか確認する

### 2. テスト実行の効率化

- [ ] テスト実行前のエラーチェックスクリプトを作成
  - [ ] TypeScriptの型チェックを実行するスクリプト
  - [ ] インターフェースと実装の不一致を検出するユーティリティの作成

### 3. テスト品質の向上

- [ ] テストケース間の依存関係を減らす

  - [ ] 各テストが独立して実行できるよう`beforeEach`を適切に使用
  - [ ] グローバル状態に依存しないテスト設計に修正

- [ ] エラーケースの網羅性を高める
  - [ ] 各メソッドの境界条件のテストを追加
  - [ ] エラー時の正確なメッセージ検証を追加

### 4. ドキュメンテーション改善

- [ ] テスト作成ガイドラインを作成

  - [ ] モックの作成方法と使用ガイド
  - [ ] ファクトリ関数の使用方法と拡張方法
  - [ ] テストケースの命名規則とベストプラクティス

- [ ] ドメインモデル間の依存関係図を作成
  - [ ] エンティティとバリューオブジェクトの関係図
  - [ ] リポジトリインターフェースと実装の対応表
