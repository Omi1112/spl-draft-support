# 事前読み込み

- prompt/index.md
- prompt/rule.md
- prompt/dir.md
- prompt/reflection.md

# タスク

## 目的

ドラフトリセット機能の実装：ドラフトリセット時にドラフトに関連する情報（チームや指名情報）を削除する

## TODO リスト

1. **データモデルの確認**

   - ドラフト関連のテーブル構造を確認（Draft, DraftStatus, Team, TeamMember）
   - リセット対象となるデータの特定

2. **バックエンド実装**

   - GraphQL スキーマに resetDraft ミューテーションを追加
   - リセット機能のリゾルバを実装
   - ドラフトリセット用のユースケースを作成
   - 以下のデータをリセットするロジックを実装
     - Draft テーブルのデータ削除
     - DraftStatus テーブルのデータリセット（ラウンド、ターンを初期値に）
     - Team と TeamMember の関連データ削除

3. **フロントエンド実装**

   - クライアント側のリセット機能呼び出しコードを作成
   - ドラフトリセットボタンの UI 実装
   - リセット前の確認ダイアログの追加
   - リセット後の画面更新処理

4. **テスト**

   - ドラフトリセット機能のユニットテスト実装
   - GraphQL リゾルバのテスト実装
   - フロントエンドの統合テスト実装

5. **動作確認**

   - リセット後にデータが正しく削除されていることの確認
   - ドラフトを最初からやり直せることの検証
   - エラーハンドリングの確認

6. **コードレビューと修正**
   - リファクタリングとコードの最適化
   - エラーハンドリングの改善
   - 型の問題と lint エラーの確認と修正
