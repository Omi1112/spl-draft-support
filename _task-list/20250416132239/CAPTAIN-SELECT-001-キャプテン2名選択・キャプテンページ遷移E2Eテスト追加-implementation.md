# タスク詳細: CAPTAIN-SELECT-001

## タスク名

キャプテン2名選択・キャプテンページ遷移E2Eテスト追加

## 種別

implementation

## 概要

- tournament.spec.ts に、以下のE2Eテストを追加する。
  1. 参加者リストから2名をキャプテンとして選択する（UI上で「主将」ボタンを2名分クリック）。
  2. キャプテン一覧ページ（/tournaments/[id]/captain）に遷移し、2名のキャプテンが表示されていることを確認する。
  3. いずれかのキャプテンのキャプテンページ（/tournaments/[id]/captain/[captainId]）に遷移し、キャプテン情報が正しく表示されることを確認する。

## 実施手順

1. 参加者10名追加後、参加者リスト画面で「主将」ボタンを2名分クリックし、キャプテンに設定する。
2. キャプテン一覧ページに遷移し、2名のキャプテンが表示されていることを確認する。
3. 1人目のキャプテンのキャプテンページに遷移し、キャプテン名などの情報が正しく表示されていることを確認する。
4. 2人目のキャプテンのキャプテンページにも遷移し、同様に情報が表示されていることを確認する。

## 注意事項

- 画面遷移や要素の検証には Playwright の getByText, getByRole, click, expect などを活用する。
- 既存のテスト構成・命名規則に従う。
- スクリーンショットも適宜取得する。
- UIの文言やボタン名は実装に合わせて正確に指定する。
- 2名以上キャプテンを選択できない場合は、次タスクで制限ロジックを修正する。

---

# タスク詳細: CAPTAIN-SELECT-002

## タスク名

キャプテン2名制限ロジックの検証・修正

## 種別

research/implementation

## 概要

- 参加者リストでキャプテンが2名までしか選択できないことを検証する。
- 必要に応じて、2名を超えてキャプテンにできないよう制限ロジックを追加・修正する。

## 実施手順

1. 参加者リストのキャプテン選択ロジック（toggleCaptain, useCaptainManagement, ParticipantList等）を調査。
2. 2名以上キャプテンを選択できてしまう場合は、UI・ロジック両方で2名までしか選択できないよう修正する。
3. テストも合わせて修正・追加する。

## 注意事項

- 型安全性・既存の設計方針を守る。
- UI/UXを大きく変えない。
- 既存のテストが落ちないことを確認する。
